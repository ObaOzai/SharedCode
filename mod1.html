<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Network Visualization</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .network-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
        }
        
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border: none;
            color: white;
            padding: 15px 30px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .neuron {
            fill: #4ecdc4;
            stroke: #2c3e50;
            stroke-width: 3;
            transition: all 0.5s ease;
        }
        
        .neuron.active {
            fill: #f39c12;
            r: 35;
        }
        
        .connection {
            stroke: #ecf0f1;
            stroke-width: 2;
            opacity: 0.6;
            transition: all 0.5s ease;
        }
        
        .connection.active {
            stroke: #e74c3c;
            stroke-width: 4;
            opacity: 1;
        }
        
        .layer-label {
            font-size: 18px;
            font-weight: bold;
            text-anchor: middle;
            fill: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .activation-label {
            font-size: 12px;
            text-anchor: middle;
            fill: #ecf0f1;
        }
        
        .info-panels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 40px;
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(5px);
        }
        
        .info-panel h3 {
            color: #f39c12;
            margin-top: 0;
            font-size: 1.3em;
        }
        
        .formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            text-align: center;
        }
        
        .step-indicator {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 20px 0;
            color: #f39c12;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .pulsing {
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß† Neural Network Architecture</h1>
        <p class="subtitle">Interactive Forward & Backward Pass Visualization</p>
        
        <div class="controls">
            <button onclick="startForwardPass()">‚ñ∂Ô∏è Forward Pass</button>
            <button onclick="startBackwardPass()">‚óÄÔ∏è Backward Pass</button>
            <button onclick="resetNetwork()">üîÑ Reset</button>
        </div>
        
        <div class="step-indicator" id="stepIndicator">Ready to start</div>
        
        <div class="network-container">
            <svg width="800" height="400" id="networkSvg">
                <!-- Input Layer -->
                <text x="100" y="50" class="layer-label">Input Layer</text>
                <circle cx="100" cy="100" r="25" class="neuron" id="input1"/>
                <text x="100" y="105" class="activation-label">x‚ÇÅ</text>
                <circle cx="100" cy="180" r="25" class="neuron" id="input2"/>
                <text x="100" y="185" class="activation-label">x‚ÇÇ</text>
                <circle cx="100" cy="260" r="25" class="neuron" id="input3"/>
                <text x="100" y="265" class="activation-label">x‚ÇÉ</text>
                
                <!-- Hidden Layer 1 -->
                <text x="300" y="50" class="layer-label">Hidden Layer 1</text>
                <circle cx="300" cy="80" r="25" class="neuron" id="hidden1_1"/>
                <text x="300" y="85" class="activation-label">ReLU</text>
                <circle cx="300" cy="140" r="25" class="neuron" id="hidden1_2"/>
                <text x="300" y="145" class="activation-label">ReLU</text>
                <circle cx="300" cy="200" r="25" class="neuron" id="hidden1_3"/>
                <text x="300" y="205" class="activation-label">ReLU</text>
                <circle cx="300" cy="260" r="25" class="neuron" id="hidden1_4"/>
                <text x="300" y="265" class="activation-label">ReLU</text>
                
                <!-- Hidden Layer 2 -->
                <text x="500" y="50" class="layer-label">Hidden Layer 2</text>
                <circle cx="500" cy="120" r="25" class="neuron" id="hidden2_1"/>
                <text x="500" y="125" class="activation-label">ReLU</text>
                <circle cx="500" cy="180" r="25" class="neuron" id="hidden2_2"/>
                <text x="500" y="185" class="activation-label">ReLU</text>
                <circle cx="500" cy="240" r="25" class="neuron" id="hidden2_3"/>
                <text x="500" y="245" class="activation-label">ReLU</text>
                
                <!-- Output Layer -->
                <text x="700" y="50" class="layer-label">Output Layer</text>
                <circle cx="700" cy="160" r="25" class="neuron" id="output1"/>
                <text x="700" y="165" class="activation-label">Softmax</text>
                <circle cx="700" cy="220" r="25" class="neuron" id="output2"/>
                <text x="700" y="225" class="activation-label">Softmax</text>
                
                <!-- Connections (will be drawn dynamically) -->
                <g id="connections"></g>
            </svg>
        </div>
        
        <div class="info-panels">
            <div class="info-panel">
                <h3>üîÑ Forward Pass Process</h3>
                <p><strong>Step 1:</strong> Input data flows through network</p>
                <div class="formula">z‚ÅΩÀ°‚Åæ = W‚ÅΩÀ°‚Åæa‚ÅΩÀ°‚Åª¬π‚Åæ + b‚ÅΩÀ°‚Åæ</div>
                <p><strong>Step 2:</strong> Apply activation functions</p>
                <div class="formula">a‚ÅΩÀ°‚Åæ = f(z‚ÅΩÀ°‚Åæ)</div>
                <p><strong>Step 3:</strong> Compute final output and loss</p>
                <div class="formula">L = loss_function(≈∑, y)</div>
            </div>
            
            <div class="info-panel">
                <h3>‚¨ÖÔ∏è Backward Pass Process</h3>
                <p><strong>Step 1:</strong> Compute output layer gradients</p>
                <div class="formula">Œ¥‚ÅΩ·¥∏‚Åæ = ‚àá‚Çê‚ÅΩ·¥∏‚Åæ L</div>
                <p><strong>Step 2:</strong> Propagate errors backward</p>
                <div class="formula">Œ¥‚ÅΩÀ°‚Åæ = (W‚ÅΩÀ°‚Å∫¬π‚Åæ)·µÄŒ¥‚ÅΩÀ°‚Å∫¬π‚Åæ ‚äô f'(z‚ÅΩÀ°‚Åæ)</div>
                <p><strong>Step 3:</strong> Update weights using SGD</p>
                <div class="formula">W := W - Œ±‚àáW L</div>
            </div>
        </div>
        
        <div class="info-panel" style="grid-column: 1 / -1; margin-top: 20px;">
            <h3>üéØ Key Activation Functions</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div>
                    <strong>ReLU:</strong>
                    <div class="formula">f(x) = max(0, x)</div>
                </div>
                <div>
                    <strong>Sigmoid:</strong>
                    <div class="formula">f(x) = 1/(1 + e‚ÅªÀ£)</div>
                </div>
                <div>
                    <strong>Tanh:</strong>
                    <div class="formula">f(x) = (eÀ£ - e‚ÅªÀ£)/(eÀ£ + e‚ÅªÀ£)</div>
                </div>
                <div>
                    <strong>Softmax:</strong>
                    <div class="formula">f(x·µ¢) = eÀ£‚Å±/Œ£‚±ºeÀ£ ≤</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize connections
        function drawConnections() {
            const svg = document.getElementById('networkSvg');
            const connectionsGroup = document.getElementById('connections');
            
            // Input to Hidden1 connections
            const inputNeurons = ['input1', 'input2', 'input3'];
            const hidden1Neurons = ['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'];
            
            inputNeurons.forEach(input => {
                hidden1Neurons.forEach(hidden => {
                    const inputEl = document.getElementById(input);
                    const hiddenEl = document.getElementById(hidden);
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', inputEl.getAttribute('cx'));
                    line.setAttribute('y1', inputEl.getAttribute('cy'));
                    line.setAttribute('x2', hiddenEl.getAttribute('cx'));
                    line.setAttribute('y2', hiddenEl.getAttribute('cy'));
                    line.setAttribute('class', 'connection');
                    line.setAttribute('id', `conn_${input}_${hidden}`);
                    connectionsGroup.appendChild(line);
                });
            });
            
            // Hidden1 to Hidden2 connections
            const hidden2Neurons = ['hidden2_1', 'hidden2_2', 'hidden2_3'];
            
            hidden1Neurons.forEach(hidden1 => {
                hidden2Neurons.forEach(hidden2 => {
                    const hidden1El = document.getElementById(hidden1);
                    const hidden2El = document.getElementById(hidden2);
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', hidden1El.getAttribute('cx'));
                    line.setAttribute('y1', hidden1El.getAttribute('cy'));
                    line.setAttribute('x2', hidden2El.getAttribute('cx'));
                    line.setAttribute('y2', hidden2El.getAttribute('cy'));
                    line.setAttribute('class', 'connection');
                    line.setAttribute('id', `conn_${hidden1}_${hidden2}`);
                    connectionsGroup.appendChild(line);
                });
            });
            
            // Hidden2 to Output connections
            const outputNeurons = ['output1', 'output2'];
            
            hidden2Neurons.forEach(hidden2 => {
                outputNeurons.forEach(output => {
                    const hidden2El = document.getElementById(hidden2);
                    const outputEl = document.getElementById(output);
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', hidden2El.getAttribute('cx'));
                    line.setAttribute('y1', hidden2El.getAttribute('cy'));
                    line.setAttribute('x2', outputEl.getAttribute('cx'));
                    line.setAttribute('y2', outputEl.getAttribute('cy'));
                    line.setAttribute('class', 'connection');
                    line.setAttribute('id', `conn_${hidden2}_${output}`);
                    connectionsGroup.appendChild(line);
                });
            });
        }
        
        function resetNetwork() {
            document.querySelectorAll('.neuron, .connection').forEach(el => {
                el.classList.remove('active', 'pulsing');
            });
            document.getElementById('stepIndicator').textContent = 'Ready to start';
        }
        
        async function startForwardPass() {
            resetNetwork();
            document.getElementById('stepIndicator').textContent = '‚û°Ô∏è Forward Pass: Processing Input';
            
            // Activate input layer
            await activateLayer(['input1', 'input2', 'input3'], 'Input received');
            
            // Activate connections and hidden layer 1
            await activateConnections(['input1', 'input2', 'input3'], ['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4']);
            document.getElementById('stepIndicator').textContent = 'üßÆ Computing z‚ÅΩ¬π‚Åæ = W‚ÅΩ¬π‚Åæx + b‚ÅΩ¬π‚Åæ';
            await activateLayer(['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'], 'Applying ReLU activation');
            
            // Activate connections and hidden layer 2
            await activateConnections(['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'], ['hidden2_1', 'hidden2_2', 'hidden2_3']);
            document.getElementById('stepIndicator').textContent = 'üßÆ Computing z‚ÅΩ¬≤‚Åæ = W‚ÅΩ¬≤‚Åæa‚ÅΩ¬π‚Åæ + b‚ÅΩ¬≤‚Åæ';
            await activateLayer(['hidden2_1', 'hidden2_2', 'hidden2_3'], 'Applying ReLU activation');
            
            // Activate connections and output layer
            await activateConnections(['hidden2_1', 'hidden2_2', 'hidden2_3'], ['output1', 'output2']);
            document.getElementById('stepIndicator').textContent = 'üìä Computing final output with Softmax';
            await activateLayer(['output1', 'output2'], 'Forward pass complete!');
            
            document.getElementById('stepIndicator').textContent = '‚úÖ Forward Pass Complete - Loss Computed';
        }
        
        async function startBackwardPass() {
            resetNetwork();
            document.getElementById('stepIndicator').textContent = '‚¨ÖÔ∏è Backward Pass: Computing Gradients';
            
            // Start from output layer
            await activateLayer(['output1', 'output2'], 'Computing output gradients');
            document.getElementById('stepIndicator').textContent = 'üìâ Computing Œ¥‚ÅΩ·¥∏‚Åæ = ‚àáL/‚àáa‚ÅΩ·¥∏‚Åæ';
            
            // Propagate to hidden layer 2
            await activateConnections(['output1', 'output2'], ['hidden2_1', 'hidden2_2', 'hidden2_3'], true);
            document.getElementById('stepIndicator').textContent = '‚¨ÖÔ∏è Propagating gradients: Œ¥‚ÅΩ¬≤‚Åæ = (W‚ÅΩ¬≥‚Åæ)·µÄŒ¥‚ÅΩ¬≥‚Åæ ‚äô f\'(z‚ÅΩ¬≤‚Åæ)';
            await activateLayer(['hidden2_1', 'hidden2_2', 'hidden2_3'], 'Computing hidden layer 2 gradients');
            
            // Propagate to hidden layer 1
            await activateConnections(['hidden2_1', 'hidden2_2', 'hidden2_3'], ['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'], true);
            document.getElementById('stepIndicator').textContent = '‚¨ÖÔ∏è Propagating gradients: Œ¥‚ÅΩ¬π‚Åæ = (W‚ÅΩ¬≤‚Åæ)·µÄŒ¥‚ÅΩ¬≤‚Åæ ‚äô f\'(z‚ÅΩ¬π‚Åæ)';
            await activateLayer(['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'], 'Computing hidden layer 1 gradients');
            
            // Final gradient computation
            await activateConnections(['hidden1_1', 'hidden1_2', 'hidden1_3', 'hidden1_4'], ['input1', 'input2', 'input3'], true);
            document.getElementById('stepIndicator').textContent = 'üîÑ Updating weights: W := W - Œ±‚àáW L';
            await activateLayer(['input1', 'input2', 'input3'], 'Gradients computed for all weights');
            
            document.getElementById('stepIndicator').textContent = '‚úÖ Backward Pass Complete - Weights Updated';
        }
        
        async function activateLayer(neuronIds, message) {
            neuronIds.forEach(id => {
                const neuron = document.getElementById(id);
                neuron.classList.add('active', 'pulsing');
            });
            await sleep(1500);
            neuronIds.forEach(id => {
                const neuron = document.getElementById(id);
                neuron.classList.remove('pulsing');
            });
        }
        
        async function activateConnections(fromLayer, toLayer, backward = false) {
            fromLayer.forEach(from => {
                toLayer.forEach(to => {
                    const connId = backward ? `conn_${to}_${from}` : `conn_${from}_${to}`;
                    const conn = document.getElementById(connId);
                    if (conn) {
                        conn.classList.add('active');
                    }
                });
            });
            await sleep(800);
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Initialize the network
        drawConnections();
    </script>
</body>
</html>

